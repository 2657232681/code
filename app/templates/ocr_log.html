{% extends "layout.html" %}
{% block content %}

    <div class="col-lg-12 grid-margin stretch-card">
        <div class="panel">
            <div class="panel-heading">
                <h3 class="panel-title">识别历史记录</h3>
                <div class="right">
                    <button type="button" class="btn-toggle-collapse"><i class="lnr lnr-chevron-up"></i></button>
                    <button type="button" class="btn-remove"><i class="lnr lnr-cross"></i></button>
                </div>
            </div>
            <div class="panel-body">

                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th> 识别图片</th>
                            <th> 识别时间</th>
                            <th> 识别耗时</th>
                            <th> 识别内容</th>

                        </tr>
                        </thead>
                        <tbody>
                        {% for log in logs %}
                            <tr>
                                <td class="py-1">
                                    <img src="{{ log.origin }}" style="width: 80px;height: auto"/>
                                </td>
                                <td> {{ log.add_time }}</td>
                                <td>
                                    {{ log.ocr_time }}
                                </td>
                                <td><img src="{{ log.target }}" style="width: 80px;height: auto"/></td>

                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <nav aria-label="Page navigation example" style="margin-top: 10px ">
                        <ul class="pagination">


                            {% if page <= 0 %}
                                <li class="page-item  disabled">
                                    <a class="page-link disabled">上一页</a>
                                </li>
                            {% else %}
                                <li class="page-item">
                                    <a href="/ocr_log?page={{ page|add:-1 }}" class="page-link">上一页</a>
                                </li>
                            {% endif %}

                            {% for p in page_list %}

                                {% if p == page %}
                                    <li class="page-item  active">
                                        <a class="page-link">{{ p|add:1 }}</a>
                                    </li>
                                {% else %}
                                    <li class="page-item">
                                        <a class="page-link" href="/ocr_log?page={{ p }}">{{ p|add:1 }}</a>
                                    </li>
                                {% endif %}

                            {% endfor %}


                            {% if page_count >= count %}
                                <li class="page-item  disabled">
                                    <a class="page-link disabled">下一页</a>
                                </li>
                            {% else %}
                                <li class="page-item">
                                    <a href="/ocr_log?page={{ page|add:1 }}" class="page-link">下一页</a>
                                </li>
                            {% endif %}

                        </ul>
                    </nav>
                </div>
            </div>
        </div>


    </div>


{% endblock %}

{% block script %}
    <script>
        $("#sidebar-nav > div > div.sidebar-scroll > nav > ul > li:nth-child(2) > a").addClass("active")
    </script>
{% endblock %}